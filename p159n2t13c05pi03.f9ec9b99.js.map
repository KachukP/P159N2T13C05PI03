{"mappings":"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","sources":["<anon>","src/script.ts","src/router.ts","src/pages/welcome/welcome.ts","src/components/game-option.ts","src/state.ts","src/pages/interactions/win.ts","src/pages/interactions/lose.ts","src/pages/interactions/tie.ts","src/pages/welcome/round.ts","src/components/result-message.ts","src/components/round-wait.ts"],"sourcesContent":["const $0b89d474933103bc$export$b6f8cf348b7fd610 = {\n    data: {\n        jugador: null,\n        computadora: null,\n        resultado: null,\n        rondas: 0,\n        puntosJugador: 0,\n        puntosCPU: 0\n    },\n    setJugada (jugada) {\n        this.data.jugador = jugada;\n        this.data.computadora = this.jugadaRandom();\n        this.data.resultado = this.calcularResultado();\n        this.data.rondas++;\n        if (this.data.resultado === \"ganaste\") this.data.puntosJugador++;\n        if (this.data.resultado === \"perdiste\") this.data.puntosCPU++;\n    },\n    hayGanadorFinal () {\n        return this.data.puntosJugador === 2 || this.data.puntosCPU === 2;\n    },\n    ganadorFinal () {\n        if (this.data.puntosJugador === 2) return \"ganaste\";\n        if (this.data.puntosCPU === 2) return \"perdiste\";\n        return null;\n    },\n    reset () {\n        this.data = {\n            jugador: null,\n            computadora: null,\n            resultado: null,\n            rondas: 0,\n            puntosJugador: 0,\n            puntosCPU: 0\n        };\n    },\n    jugadaRandom () {\n        const opciones = [\n            \"piedra\",\n            \"papel\",\n            \"tijera\"\n        ];\n        return opciones[Math.floor(Math.random() * opciones.length)];\n    },\n    calcularResultado () {\n        const { jugador: jugador, computadora: computadora } = this.data;\n        if (jugador === computadora) return \"empate\";\n        if (jugador === \"piedra\" && computadora === \"tijera\" || jugador === \"papel\" && computadora === \"piedra\" || jugador === \"tijera\" && computadora === \"papel\") return \"ganaste\";\n        return \"perdiste\";\n    },\n    ObtenerEstado () {\n        return this.data;\n    }\n};\n\n\n\ncustomElements.define(\"game-option\", class extends HTMLElement {\n    connectedCallback() {\n        this.play = this.getAttribute(\"play\");\n        this.innerHTML = `<button>${this.play}</button>`;\n        this.querySelector(\"button\").onclick = ()=>{\n            (0, $0b89d474933103bc$export$b6f8cf348b7fd610).setJugada(this.play);\n            (0, $e817d3341cf3ea9c$export$95e8d77caafa3e06)(\"/round\");\n        };\n    }\n});\n\n\ncustomElements.define(\"welcome-page\", class extends HTMLElement {\n    connectedCallback() {\n        this.innerHTML = `\n        <h1>Piedra, Papel o Tijera</h1>\n        <div class=\"opciones\">\n          <game-option play=\"piedra\"></game-option>\n          <game-option play=\"papel\"></game-option>\n          <game-option play=\"tijera\"></game-option>\n        </div>\n      `;\n    }\n});\n\n\n\n\ncustomElements.define(\"win-page\", class extends HTMLElement {\n    connectedCallback() {\n        this.innerHTML = `\n            <h1>\\u{1F389} Ganaste</h1>\n            <result-message></result-message>\n            <button>Volver a jugar</button>\n        `;\n        this.querySelector(\"button\").addEventListener(\"click\", ()=>{\n            (0, $0b89d474933103bc$export$b6f8cf348b7fd610).reset(); // ‚Üê ESTA es la parte importante\n            (0, $e817d3341cf3ea9c$export$95e8d77caafa3e06)(\"/\"); // ‚Üê volv√©s al inicio limpio\n        });\n    }\n});\n\n\n\n\ncustomElements.define(\"lose-page\", class extends HTMLElement {\n    connectedCallback() {\n        this.innerHTML = `\n                <h1>\\u{1F480} Perdiste la partida</h1>\n                <button>Intentar otra vez</button>\n            `;\n        this.querySelector(\"button\").addEventListener(\"click\", ()=>{\n            (0, $0b89d474933103bc$export$b6f8cf348b7fd610).reset(); // ‚Üê limpia el marcador\n            (0, $e817d3341cf3ea9c$export$95e8d77caafa3e06)(\"/\"); // ‚Üê vuelve a welcome\n        });\n    }\n});\n\n\n\ncustomElements.define(\"tie-page\", class extends HTMLElement {\n    connectedCallback() {\n        this.innerHTML = `\n        <h1>\\u{1F610} Empate</h1>\n        <button>Reintentar</button>\n      `;\n        this.querySelector(\"button\").onclick = ()=>(0, $e817d3341cf3ea9c$export$95e8d77caafa3e06)(\"/\");\n    }\n});\n\n\n\ncustomElements.define(\"result-message\", class extends HTMLElement {\n    connectedCallback() {\n        const estado = (0, $0b89d474933103bc$export$b6f8cf348b7fd610).ObtenerEstado();\n        this.innerHTML = `\n        <p>Vos jugaste: <strong>${estado.jugador}</strong></p>\n        <p>La compu jug\\xf3: <strong>${estado.computadora}</strong></p>\n      `;\n    }\n});\n\n\n\n\ncustomElements.define(\"round-wait\", class extends HTMLElement {\n    connectedCallback() {\n        let i = 3;\n        this.innerHTML = `<p>Siguiente ronda en ${i}...</p>`;\n        const intervalo = setInterval(()=>{\n            i--;\n            this.innerHTML = `<p>Siguiente ronda en ${i}...</p>`;\n            if (i === 0) {\n                clearInterval(intervalo);\n                if ((0, $0b89d474933103bc$export$b6f8cf348b7fd610).hayGanadorFinal()) {\n                    const ganador = (0, $0b89d474933103bc$export$b6f8cf348b7fd610).ganadorFinal();\n                    if (ganador === \"ganaste\") (0, $e817d3341cf3ea9c$export$95e8d77caafa3e06)(\"/win\");\n                    if (ganador === \"perdiste\") (0, $e817d3341cf3ea9c$export$95e8d77caafa3e06)(\"/lose\");\n                } else (0, $e817d3341cf3ea9c$export$95e8d77caafa3e06)(\"/\");\n            }\n        }, 1000);\n    }\n});\n\n\ncustomElements.define(\"round-page\", class extends HTMLElement {\n    connectedCallback() {\n        this.innerHTML = `\n        <h2>Resultado de la ronda</h2>\n        <result-message></result-message>\n        <round-wait></round-wait>\n      `;\n    }\n});\n\n\nconst $e817d3341cf3ea9c$var$routes = {\n    \"/\": \"welcome-page\",\n    \"/round\": \"round-page\",\n    \"/win\": \"win-page\",\n    \"/lose\": \"lose-page\",\n    \"/tie\": \"tie-page\"\n};\nfunction $e817d3341cf3ea9c$export$95e8d77caafa3e06(path) {\n    history.pushState({}, \"\", path);\n    $e817d3341cf3ea9c$var$renderRoute(path);\n}\nfunction $e817d3341cf3ea9c$var$renderRoute(path) {\n    const app = document.getElementById(\"app\");\n    if (!app) return;\n    app.innerHTML = \"\";\n    const tag = $e817d3341cf3ea9c$var$routes[path];\n    if (tag) app.appendChild(document.createElement(tag));\n}\nfunction $e817d3341cf3ea9c$export$cf7ee87ede64229c() {\n    $e817d3341cf3ea9c$var$renderRoute(location.pathname);\n    window.onpopstate = ()=>$e817d3341cf3ea9c$var$renderRoute(location.pathname);\n}\n\n\n(0, $e817d3341cf3ea9c$export$cf7ee87ede64229c)();\n\n\n//# sourceMappingURL=p159n2t13c05pi03.f9ec9b99.js.map\n","import { initRouter } from \"./router\";\r\n\r\ninitRouter();","import \"./pages/welcome/welcome\";\r\nimport \"./pages/interactions/win\";\r\nimport \"./pages/interactions/lose\";\r\nimport \"./pages/interactions/tie\";\r\nimport \"./pages/welcome/round\";\r\n\r\nconst routes: Record<string, string> = {\r\n  \"/\": \"welcome-page\",\r\n  \"/round\": \"round-page\",\r\n  \"/win\": \"win-page\",\r\n  \"/lose\": \"lose-page\",\r\n  \"/tie\": \"tie-page\",\r\n};\r\n\r\nexport function goTo(path: string) {\r\n  history.pushState({}, \"\", path);\r\n  renderRoute(path);\r\n};\r\n\r\nfunction renderRoute(path: string) {\r\n  const app = document.getElementById(\"app\");\r\n  if (!app) return;\r\n\r\n  app.innerHTML = \"\";\r\n  const tag = routes[path];\r\n  if(tag){\r\n    app.appendChild(document.createElement(tag));\r\n  };\r\n};\r\n\r\nexport function initRouter() {\r\n  renderRoute(location.pathname);\r\n  window.onpopstate = () => renderRoute(location.pathname);\r\n};","import \"../../components/game-option\";\r\n\r\ncustomElements.define(\r\n  \"welcome-page\",\r\n  class extends HTMLElement {\r\n    connectedCallback() {\r\n      this.innerHTML = `\r\n        <h1>Piedra, Papel o Tijera</h1>\r\n        <div class=\"opciones\">\r\n          <game-option play=\"piedra\"></game-option>\r\n          <game-option play=\"papel\"></game-option>\r\n          <game-option play=\"tijera\"></game-option>\r\n        </div>\r\n      `;\r\n    };\r\n  },\r\n);","import { EstadoGame } from \"../state\";\r\nimport { goTo } from \"../router\";\r\n\r\ncustomElements.define(\r\n  \"game-option\",\r\n  class extends HTMLElement {\r\n    play!: \"piedra\" | \"papel\" | \"tijera\";\r\n\r\n    connectedCallback() {\r\n      this.play = this.getAttribute(\"play\") as any;\r\n      this.innerHTML = `<button>${this.play}</button>`;\r\n\r\n      this.querySelector(\"button\")!.onclick = () => {\r\n        EstadoGame.setJugada(this.play);\r\n        goTo(\"/round\");\r\n      };\r\n    };\r\n  },\r\n);","type Jugada = \"piedra\" | \"papel\" | \"tijera\";\r\ntype Resultado = \"ganaste\" | \"perdiste\" | \"empate\";\r\n\r\nexport const EstadoGame = {\r\n    data: {\r\n        jugador: null as Jugada | null,\r\n        computadora: null as Jugada | null,\r\n        resultado: null as Resultado | null,\r\n        rondas: 0,\r\n        puntosJugador: 0,\r\n        puntosCPU: 0,\r\n    },\r\n\r\n    setJugada(jugada: Jugada) {\r\n        this.data.jugador = jugada;\r\n        this.data.computadora = this.jugadaRandom();\r\n        this.data.resultado = this.calcularResultado();\r\n        this.data.rondas++;\r\n        if (this.data.resultado === \"ganaste\") this.data.puntosJugador++;\r\n        if (this.data.resultado === \"perdiste\") this.data.puntosCPU++;\r\n    },\r\n\r\n    hayGanadorFinal() {\r\n        return (\r\n            this.data.puntosJugador === 2 ||\r\n            this.data.puntosCPU === 2\r\n        );\r\n    },\r\n\r\n    ganadorFinal() {\r\n        if (this.data.puntosJugador === 2) return \"ganaste\";\r\n        if (this.data.puntosCPU === 2) return \"perdiste\";\r\n        return null;\r\n    },\r\n\r\n    reset() {\r\n        this.data = {\r\n            jugador: null,\r\n            computadora: null,\r\n            resultado: null,\r\n            rondas: 0,\r\n            puntosJugador: 0,\r\n            puntosCPU: 0,\r\n        };\r\n    },\r\n\r\n    jugadaRandom(): Jugada {\r\n        const opciones: Jugada[] = [\"piedra\", \"papel\", \"tijera\"];\r\n        return opciones[Math.floor(Math.random() * opciones.length)];\r\n    },\r\n\r\n    calcularResultado(): Resultado {\r\n        const { jugador, computadora } = this.data;\r\n        if (jugador === computadora) return \"empate\";\r\n\r\n        if (\r\n        (jugador === \"piedra\" && computadora === \"tijera\") ||\r\n        (jugador === \"papel\" && computadora === \"piedra\") ||\r\n        (jugador === \"tijera\" && computadora === \"papel\")\r\n        ) {\r\n            return \"ganaste\";\r\n        };\r\n        return \"perdiste\";\r\n    },\r\n\r\n    ObtenerEstado() {\r\n        return this.data;\r\n    },\r\n};","import { goTo } from \"../../router\";\r\nimport { EstadoGame } from \"../../state\";\r\n\r\ncustomElements.define(\r\n  \"win-page\",\r\n  class extends HTMLElement {\r\n    connectedCallback() {\r\n        this.innerHTML = `\r\n            <h1>üéâ Ganaste</h1>\r\n            <result-message></result-message>\r\n            <button>Volver a jugar</button>\r\n        `;\r\n\r\n        this.querySelector(\"button\")!.addEventListener(\"click\", () => {\r\n            EstadoGame.reset();   // ‚Üê ESTA es la parte importante\r\n            goTo(\"/\");            // ‚Üê volv√©s al inicio limpio\r\n        });\r\n    };\r\n  },\r\n);","import { goTo } from \"../../router\";\r\nimport { EstadoGame } from \"../../state\";\r\n\r\ncustomElements.define(\r\n    \"lose-page\",\r\n    class extends HTMLElement {\r\n        connectedCallback() {\r\n            this.innerHTML = `\r\n                <h1>üíÄ Perdiste la partida</h1>\r\n                <button>Intentar otra vez</button>\r\n            `;\r\n\r\n            this.querySelector(\"button\")!.addEventListener(\"click\", () => {\r\n                EstadoGame.reset();   // ‚Üê limpia el marcador\r\n                goTo(\"/\");            // ‚Üê vuelve a welcome\r\n            });\r\n        };\r\n    },\r\n);","import { goTo } from \"../../router\";\r\n\r\ncustomElements.define(\r\n  \"tie-page\",\r\n  class extends HTMLElement {\r\n    connectedCallback() {\r\n      this.innerHTML = `\r\n        <h1>üòê Empate</h1>\r\n        <button>Reintentar</button>\r\n      `;\r\n      this.querySelector(\"button\")!.onclick = () => goTo(\"/\");\r\n    };\r\n  },\r\n);","import \"../../components/result-message\";\r\nimport \"../../components/round-wait\";\r\n\r\ncustomElements.define(\r\n  \"round-page\",\r\n  class extends HTMLElement {\r\n    connectedCallback() {\r\n      this.innerHTML = `\r\n        <h2>Resultado de la ronda</h2>\r\n        <result-message></result-message>\r\n        <round-wait></round-wait>\r\n      `;\r\n    };\r\n  },\r\n);","import { EstadoGame } from \"../state\";\r\n\r\ncustomElements.define(\r\n  \"result-message\",\r\n  class extends HTMLElement {\r\n    connectedCallback() {\r\n      const estado = EstadoGame.ObtenerEstado();\r\n\r\n      this.innerHTML = `\r\n        <p>Vos jugaste: <strong>${estado.jugador}</strong></p>\r\n        <p>La compu jug√≥: <strong>${estado.computadora}</strong></p>\r\n      `;\r\n    };\r\n  },\r\n);","import { goTo } from \"../router\";\r\nimport { EstadoGame } from \"../state\";\r\n\r\ncustomElements.define(\r\n  \"round-wait\",\r\n  class extends HTMLElement {\r\n    connectedCallback() {\r\n      let i = 3;\r\n\r\n      this.innerHTML = `<p>Siguiente ronda en ${i}...</p>`;\r\n\r\n      const intervalo = setInterval(() => {\r\n        i--;\r\n        this.innerHTML = `<p>Siguiente ronda en ${i}...</p>`;\r\n\r\n        if (i === 0) {\r\n          clearInterval(intervalo);\r\n\r\n          if (EstadoGame.hayGanadorFinal()) {\r\n            const ganador = EstadoGame.ganadorFinal();\r\n            if (ganador === \"ganaste\") goTo(\"/win\");\r\n            if (ganador === \"perdiste\") goTo(\"/lose\");\r\n          } else {\r\n            goTo(\"/\");\r\n          };\r\n        };\r\n      }, 1000);\r\n    };\r\n  },\r\n);"],"names":["$0b89d474933103bc$export$b6f8cf348b7fd610","data","jugador","computadora","resultado","rondas","puntosJugador","puntosCPU","setJugada","jugada","jugadaRandom","calcularResultado","hayGanadorFinal","ganadorFinal","reset","opciones","Math","floor","random","length","ObtenerEstado","customElements","define","HTMLElement","connectedCallback","play","getAttribute","innerHTML","querySelector","onclick","$e817d3341cf3ea9c$export$95e8d77caafa3e06","addEventListener","estado","i","intervalo","setInterval","clearInterval","ganador","$e817d3341cf3ea9c$var$routes","path","history","pushState","$e817d3341cf3ea9c$var$renderRoute","app","document","getElementById","tag","appendChild","createElement","location","pathname","window","onpopstate"],"version":3,"file":"p159n2t13c05pi03.f9ec9b99.js.map"}